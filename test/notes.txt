素材库 备忘录


    //    {
    //        std::shared_ptr<int> shared_bad(new int[10]);
    //    } // 析构函数调用 delete ，未定义行为

    {
        std::shared_ptr<int> shared_good(new int[10],
                                         std::default_delete<int[]>());
    }  // 析构函数调用 delete[] ， ok